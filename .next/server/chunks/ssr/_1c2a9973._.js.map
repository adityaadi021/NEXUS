{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACRONE/Desktop/NEXUS%20WEBSITE/src/lib/data.ts"],"sourcesContent":["import type { Tournament } from './types';\n\n// 'mockTournaments' is now a module-level variable that can be mutated by server actions.\nexport let mockTournaments: Tournament[] = [\n  {\n    id: 'ff-clash-101',\n    gameTitle: 'Free Fire',\n    name: 'Nexus FF Clash Series Season 1',\n    startDate: 'NOT YET',\n    endDate: 'NOT YET',\n    entryFee: 50,\n    maxSlots: 72,\n    availableSlots: 1, // 1 slot available for Season 1\n    description: 'Join the ultimate Free Fire battle! Squad up and fight for glory and exciting prizes. Intense matches guaranteed.',\n    image: 'https://placehold.co/600x400.png',\n    imageAiHint: 'esports battle',\n  },\n  {\n    id: 'sunday-clash',\n    gameTitle: 'Free Fire',\n    name: 'Sunday Clash',\n    startDate: 'NOT YET',\n    endDate: 'NOT YET',\n    entryFee: 0, // Free entry\n    maxSlots: 8,\n    availableSlots: 1, // 1 slot available for Sunday Clash\n    description: 'Weekly Sunday Clash tournament! Perfect for weekend warriors. Show your skills and win exciting prizes every Sunday.',\n    image: 'https://placehold.co/600x400.png',\n    imageAiHint: 'sunday gaming tournament',\n  },\n  {\n    id: 'scrim-night-weekly',\n    gameTitle: 'Free Fire',\n    name: 'Weekly Scrim Night',\n    startDate: 'NOT YET',\n    endDate: 'NOT YET',\n    entryFee: 0, // Free entry\n    maxSlots: 12,\n    availableSlots: 0, // No slots available\n    description: 'Practice and hone your team skills in our weekly scrims. Perfect for competitive teams looking to improve.',\n    image: 'https://placehold.co/600x400.png',\n    imageAiHint: 'team strategy',\n  },\n];\n\nexport const getTournamentById = (id: string): Tournament | undefined => {\n  return mockTournaments.find(tournament => tournament.id === id);\n};\n\n// This function now mutates the module-level 'mockTournaments' array.\n// It should primarily be called from server-side logic (like Server Actions).\nexport const decrementTournamentSlot = (tournamentId: string): void => {\n  const tournamentIndex = mockTournaments.findIndex(t => t.id === tournamentId);\n  if (tournamentIndex !== -1) {\n    if (mockTournaments[tournamentIndex].availableSlots > 0) {\n      mockTournaments[tournamentIndex].availableSlots -= 1;\n      console.log(`Slot decremented for ${tournamentId} on server. New count: ${mockTournaments[tournamentIndex].availableSlots}`);\n    } else {\n      console.log(`Attempted to decrement slot for ${tournamentId}, but no slots were available.`);\n    }\n  } else {\n    console.log(`Tournament with ID ${tournamentId} not found for slot decrement.`);\n  }\n};\n"],"names":[],"mappings":";;;;;AAGO,IAAI,kBAAgC;IACzC;QACE,IAAI;QACJ,WAAW;QACX,MAAM;QACN,WAAW;QACX,SAAS;QACT,UAAU;QACV,UAAU;QACV,gBAAgB;QAChB,aAAa;QACb,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,WAAW;QACX,MAAM;QACN,WAAW;QACX,SAAS;QACT,UAAU;QACV,UAAU;QACV,gBAAgB;QAChB,aAAa;QACb,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,WAAW;QACX,MAAM;QACN,WAAW;QACX,SAAS;QACT,UAAU;QACV,UAAU;QACV,gBAAgB;QAChB,aAAa;QACb,OAAO;QACP,aAAa;IACf;CACD;AAEM,MAAM,oBAAoB,CAAC;IAChC,OAAO,gBAAgB,IAAI,CAAC,CAAA,aAAc,WAAW,EAAE,KAAK;AAC9D;AAIO,MAAM,0BAA0B,CAAC;IACtC,MAAM,kBAAkB,gBAAgB,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAChE,IAAI,oBAAoB,CAAC,GAAG;QAC1B,IAAI,eAAe,CAAC,gBAAgB,CAAC,cAAc,GAAG,GAAG;YACvD,eAAe,CAAC,gBAAgB,CAAC,cAAc,IAAI;QAErD,OAAO,CAEP;IACF,OAAO,CAEP;AACF","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACRONE/Desktop/NEXUS%20WEBSITE/src/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { decrementTournamentSlot, getTournamentById } from './data';\n\nexport async function handleSuccessfulBookingAction(tournamentId: string) {\n  try {\n    console.log(`Server Action: Attempting to decrement slot for ${tournamentId}`);\n    decrementTournamentSlot(tournamentId); // This mutates the server-side 'mockTournaments'\n\n    const tournament = getTournamentById(tournamentId); // Get updated tournament data\n    \n    // Revalidate paths to ensure fresh data is fetched for subsequent navigations\n    revalidatePath('/tournaments');\n    revalidatePath(`/tournaments/${tournamentId}`);\n    // Revalidating specific sub-pages might also be beneficial depending on flow\n    // revalidatePath(`/tournaments/${tournamentId}/book`); \n    // revalidatePath(`/tournaments/${tournamentId}/payment`);\n\n    console.log(`Server Action: Slot decremented for ${tournamentId}. New server-side count: ${tournament?.availableSlots}`);\n\n    return { success: true, message: 'Slot booked successfully and count updated.', newSlotCount: tournament?.availableSlots };\n  } catch (error) {\n    console.error(\"Server Action Error in handleSuccessfulBookingAction:\", error);\n    return { success: false, error: \"Failed to update slot count on the server.\", newSlotCount: -1 };\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;;AAEO,eAAe,8BAA8B,YAAoB;IACtE,IAAI;QAEF,CAAA,GAAA,kHAAA,CAAA,0BAAuB,AAAD,EAAE,eAAe,iDAAiD;QAExF,MAAM,aAAa,CAAA,GAAA,kHAAA,CAAA,oBAAiB,AAAD,EAAE,eAAe,8BAA8B;QAElF,8EAA8E;QAC9E,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE,CAAC,aAAa,EAAE,cAAc;QAO7C,OAAO;YAAE,SAAS;YAAM,SAAS;YAA+C,cAAc,YAAY;QAAe;IAC3H,EAAE,OAAO,OAAO;QAEd,OAAO;YAAE,SAAS;YAAO,OAAO;YAA8C,cAAc,CAAC;QAAE;IACjG;AACF;;;IArBsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACRONE/Desktop/NEXUS%20WEBSITE/.next-internal/server/app/tournaments/%5Bid%5D/payment/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {handleSuccessfulBookingAction as '404562861fedc4e24d67395585dfcfb7a2c43b2bc5'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACRONE/Desktop/NEXUS%20WEBSITE/src/components/tournament/PaymentFlow.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const PaymentFlow = registerClientReference(\n    function() { throw new Error(\"Attempted to call PaymentFlow() from the server but PaymentFlow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/tournament/PaymentFlow.tsx <module evaluation>\",\n    \"PaymentFlow\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,2EACA","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACRONE/Desktop/NEXUS%20WEBSITE/src/components/tournament/PaymentFlow.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const PaymentFlow = registerClientReference(\n    function() { throw new Error(\"Attempted to call PaymentFlow() from the server but PaymentFlow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/tournament/PaymentFlow.tsx\",\n    \"PaymentFlow\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,uDACA","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACRONE/Desktop/NEXUS%20WEBSITE/src/app/tournaments/%5Bid%5D/payment/page.tsx"],"sourcesContent":["\nimport { notFound } from 'next/navigation';\nimport { PaymentFlow } from '@/components/tournament/PaymentFlow';\nimport { getTournamentById, mockTournaments } from '@/lib/data';\nimport Link from 'next/link';\nimport { ArrowLeft } from 'lucide-react';\n\ninterface TournamentPaymentPageProps {\n  params: { id: string };\n}\n\nexport async function generateStaticParams() {\n  return mockTournaments.map((tournament) => ({\n    id: tournament.id,\n  }));\n}\n\nexport default async function TournamentPaymentPage({ params }: TournamentPaymentPageProps) {\n  const tournament = getTournamentById(params.id);\n\n  if (!tournament) {\n    notFound();\n  }\n\n  // If tournament is free, this page might be skipped or show a different message.\n  // For this example, we assume all paid tournaments reach here.\n  if (tournament.entryFee === 0) {\n     // Ideally, redirect to confirmation or show a \"No payment needed\" message.\n     // For now, just show a simple message.\n     return (\n      <div className=\"container mx-auto px-4 py-8 md:py-12 flex flex-col flex-grow items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"font-headline text-3xl mb-4\">No Payment Required</h1>\n          <p className=\"text-muted-foreground mb-6\">This tournament is free to enter. Your slot is being confirmed.</p>\n          {/* Simulate immediate confirmation for free tournaments */}\n          <meta http-equiv=\"refresh\" content={`3;url=/tournaments/${tournament.id}/confirmation?free=true`} />\n          <p className=\"text-sm\">Redirecting to confirmation...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 md:py-12\">\n      <div className=\"max-w-md mx-auto\">\n          <Link href={`/tournaments/${tournament.id}/book`} className=\"inline-flex items-center gap-2 text-sm text-accent hover:underline mb-6\">\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back to Booking Details\n          </Link>\n          <PaymentFlow tournament={tournament} />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAMO,eAAe;IACpB,OAAO,kHAAA,CAAA,kBAAe,CAAC,GAAG,CAAC,CAAC,aAAe,CAAC;YAC1C,IAAI,WAAW,EAAE;QACnB,CAAC;AACH;AAEe,eAAe,sBAAsB,EAAE,MAAM,EAA8B;IACxF,MAAM,aAAa,CAAA,GAAA,kHAAA,CAAA,oBAAiB,AAAD,EAAE,OAAO,EAAE;IAE9C,IAAI,CAAC,YAAY;QACf,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IACT;IAEA,iFAAiF;IACjF,+DAA+D;IAC/D,IAAI,WAAW,QAAQ,KAAK,GAAG;QAC5B,2EAA2E;QAC3E,uCAAuC;QACvC,qBACC,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAC5C,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAE1C,8OAAC;wBAAK,cAAW;wBAAU,SAAS,CAAC,mBAAmB,EAAE,WAAW,EAAE,CAAC,uBAAuB,CAAC;;;;;;kCAChG,8OAAC;wBAAE,WAAU;kCAAU;;;;;;;;;;;;;;;;;IAI/B;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAM,CAAC,aAAa,EAAE,WAAW,EAAE,CAAC,KAAK,CAAC;oBAAE,WAAU;;sCAC1D,8OAAC,gNAAA,CAAA,YAAS;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAGnC,8OAAC,+IAAA,CAAA,cAAW;oBAAC,YAAY;;;;;;;;;;;;;;;;;AAInC","debugId":null}}]
}